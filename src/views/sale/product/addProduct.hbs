
<h2 class="page-title mt-4">Add a Product</h2>
<a href="/product" class="btn btn-primary">Back to All Product</a>
<br><br>

<form method="POST" action="/product/addproduct" enctype="multipart/form-data">
    <div class="form-group">
        <label for="">Title</label>
        <input type="text" class="form-control" name="title" value="{{title}}" placeholder="Title">
    </div>

    <div class="form-group">
        <label for="">Descriptiton</label>
        <textarea name="desc" id="ta" class="form-control" cols="30" rows="8" placeholder="Descriptiton">{{desc}}</textarea>
    </div>

    <div class="form-group">
        <label for="">Category</label>
        <select name="category" id="form-control">
            {{#each categories}}
            <option value="{{this.slug}}">{{this.title}}</option>
            {{/each}}
        </select>
    </div>

    <div class="form-group">
        <label for="">Price</label>
        <input type="text" class="form-control" name="price" value="{{price}}" placeholder="Price">
    </div>

    <div class="form-group">
        <label for="">Image</label>
        <input type="file" class="form-control"  name="image" id="img">
        <img src=" " id="imgPreview" alt=" ">
    </div>

    <button class="btn btn-primary">Submit</button>
</form>


<script>
    function readURL(input){
        if (input.files && input.files[0]) {
        let reader = new FileReader();

        reader.onload = function (e) {
            $('#imgPreview').attr('src', e.target.result).width(100).height(100)
        }

        reader.readAsDataURL(input.files[0]);
        }
    }

    $('#img').change(function () { //set up a common class
        readURL(this);
    });

</script>